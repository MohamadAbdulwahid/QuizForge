erDiagram

    USERS {
        int id PK
        string email
        string username
        datetime created_at
    }

    QUIZZES {
        int id PK
        string title
        string description
        int creator_id FK
        string share_code
        datetime created_at
    }

    QUESTIONS {
        int id PK
        int quiz_id FK
        string text
        string type
        json options
        string correct_answer
        int time_limit
        int points
        int order
    }

    SESSIONS {
        int id PK
        int quiz_id FK
        string pin
        string status
        int host_id FK
        datetime started_at
    }

    SESSION_PLAYERS {
        int id PK
        int session_id FK
        string username
        int score
        int lives
        string status
    }

    GAME_EVENTS {
        int id PK
        int session_id FK
        int player_id FK
        string event_type
        json data
        datetime timestamp
    }

    USERS ||--o{ QUIZZES : creates
    QUIZZES ||--o{ QUESTIONS : contains

    USERS ||--o{ SESSIONS : hosts
    QUIZZES ||--o{ SESSIONS : used_in

    SESSIONS ||--o{ SESSION_PLAYERS : has
    SESSION_PLAYERS ||--o{ GAME_EVENTS : generates
    SESSIONS ||--o{ GAME_EVENTS : logs
